@startuml Diagrama de Actividades - Registro de Notas

skinparam {
    ActivityBackgroundColor #FFFFFF
    ActivityBorderColor #424242
    ActivityFontSize 10
    
    ActivityDiamondBackgroundColor #FFFFFF
    ActivityDiamondBorderColor #424242
    ActivityDiamondFontSize 9
    
    ActivityStartColor #424242
    ActivityEndColor #424242
    ActivityBarColor #424242
    
    PartitionBackgroundColor #F8F9FA
    PartitionBorderColor #424242
    PartitionFontSize 11
    
    ArrowColor #424242
    ArrowThickness 1.5
    
    Shadowing false
    RoundCorner 5
}

title **DIAGRAMA DE ACTIVIDADES - REGISTRO DE NOTAS**\n//Proceso del Sistema//

|**Profesor**|
start
:Seleccionar alumno y evaluación;
:Ingresar nota;

|**Sistema**|
:Validar formato de nota;

if (¿Formato válido?) then (no)
    |**Profesor**|
    :Mostrar error;
    stop
else (sí)
    :Convertir a escala de cálculo;
    :Verificar pertenencia a colegio;
    
    if (¿Pertenece al colegio?) then (no)
        |**Profesor**|
        :Mostrar error de permisos;
        stop
    else (sí)
        :Guardar registro de nota;
        
        fork
            :Calcular promedio de competencia;
        fork again
            :Calcular promedio de curso;
        end fork
        
        |**Sistema IA**|
        if (¿Hay datos suficientes?) then (sí)
            :Generar estimación IA;
        else (no)
        endif
        
        |**Profesor**|
        :Confirmar registro exitoso;
        :Visualizar en tabla;
        
        if (¿Registrar otra nota?) then (sí)
            :Continuar con nueva nota;
            detach
        else (no)
            stop
        endif
    endif
endif

@enduml
