@startuml Casos de Uso - Sistema de Registro de Notas (Núcleo)

skinparam {
    ActorBackgroundColor #E8F4FD
    ActorBorderColor #1F2937
    UsecaseBackgroundColor #F0F9FF
    UsecaseBorderColor #1E40AF
    PackageBackgroundColor #F0F9FF
    PackageBorderColor #1E40AF
    ArrowColor #1F2937
}

title CASOS DE USO - NÚCLEO DEL SISTEMA: Registro de Notas

' ACTORES PRINCIPALES
actor "Profesor" as Profesor

rectangle "Sistema de Registro de Notas" {
    
    usecase "Crear Evaluación" as UC1
    
    usecase "Registrar Nota\nIndividual" as UC2
    usecase "Actualizar Nota" as UC3
    usecase "Guardar Notas\nen Lote" as UC4
    
    usecase "Consultar Notas\ndel Contexto" as UC5
    usecase "Calcular Promedio\nCompetencia" as UC6
    usecase "Calcular Promedio\nCurso" as UC7
    
    usecase "Ver Estimaciones\nIA" as UC8
    
    usecase "Descargar Hoja\nExcel" as UC9
    usecase "Descargar Informe\nPDF" as UC10
}

' RELACIONES PRINCIPALES - SIN CRUCES
Profesor --> UC1
Profesor --> UC2
Profesor --> UC3
Profesor --> UC4
Profesor --> UC5
Profesor --> UC6
Profesor --> UC7
Profesor --> UC8
Profesor --> UC9
Profesor --> UC10

' RELACIONES DE EXTENSIÓN (OPCIONALES) - BASADAS EN CÓDIGO REAL
' Al consultar notas, opcionalmente puede ver estimaciones IA
UC5 ..> UC8 : <<extend>>

' Al consultar notas, opcionalmente puede descargar reportes
UC5 ..> UC9 : <<extend>>
UC5 ..> UC10 : <<extend>>

note right of UC2
    REGISTRO INDIVIDUAL
    
    El profesor:
    • Selecciona alumno y evaluación
    • Ingresa nota (AD,A,B,C o 0-20)
    • Sistema valida y convierte automáticamente
end note

note right of UC8
    ESTIMACIONES IA
    
    El profesor puede:
    • Ver estimaciones predictivas del sistema
    • Consultar nivel de confianza
    • Usar como referencia para calificar
end note

note right of UC9
    REPORTES REALES
    
    Funcionalidades implementadas:
    • Hoja de trabajo en Excel
    • Informe de intervención en PDF
    • Descarga desde la interfaz
end note

note bottom
    FUNCIONALIDADES REALES
    ==
    Basado en endpoints implementados:
    • /api/registro-notas (POST, PUT)
    • /api/evaluaciones/contexto-trabajo
    • /api/ia/estimar-nota
    • /api/reportes/profesor/hoja-registro
    • /api/reportes/profesor/intervencion-temprana
end note

@enduml
